![header](https://capsule-render.vercel.app/api?type=rect&color=auto&height=400&section=header&text=ê°„ì´%20ìë™ì°¨%20í”„ë¡œì íŠ¸&fontSize=60&animation=twinkling&desc=ì„ë² ë””ë“œì‹œìŠ¤í…œ%204ì¡°%20ê¸°ë§%20í”„ë¡œì íŠ¸)
<br/>

### Contributors

|í”„ë¡œí•„|í•™ë²ˆ|ì—­í• |
|:---:|:---:|:---|
|<a href="https://github.com/Dyoya/"><img src="https://avatars.githubusercontent.com/u/118094189?v=4" width="100px;" alt="Dyoya"/><br /><sub><b>Dyoya (ê¹€í˜•ë¯¼)</b></sub></a><br /> <a href="https://github.com/Dyoya/EmbeddedProject/commits?author=Dyoya" title="Commit Log">ğŸ’»</a>|20190348|- ì—­í• <br>- ì—­í• |
|<a href="https://github.com/ParkSGye/"><img src="https://avatars.githubusercontent.com/u/113571828?v=4" width="100px;" alt="ParkSGye"/><br /><sub><b>ParkSGye (ë°•ì„±ê·œ)</b></sub></a><br /> <a href="https://github.com/Dyoya/EmbeddedProject/commits?author=ParkSGye" title="Commit Log">ğŸ’»</a>|20190452|- ì—­í• <br>- ì—­í• |
|<a href="https://github.com/user71309876/"><img src="https://avatars.githubusercontent.com/u/93814905?v=4" width="100px;" alt="user71309876"/><br /><sub><b>user71309876 (ë°•ì¬í˜„)</b></sub></a><br /> <a href="https://github.com/Dyoya/EmbeddedProject/commits?author=user71309876" title="Commit Log">ğŸ’»</a>|20180474|- ì—­í• <br>- ì—­í• |
|<a href="https://github.com/dwgns/"><img src="https://avatars.githubusercontent.com/u/67849875?v=4" width="100px;" alt="dwgns"/><br /><sub><b>dwgns (ì•ˆì§€í›ˆ)</b></sub></a><br /> <a href="https://github.com/Dyoya/EmbeddedProject/commits?author=dwgns" title="Commit Log">ğŸ’»</a>|20190685|- ì—­í• <br>- ì—­í• |

# List
1. [ì•„ì´ë””ì–´ ì†Œê°œ](https://github.com/Dyoya/EmbeddedProject#ì•„ì´ë””ì–´-ì†Œê°œ)
2. [ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°](https://github.com/Dyoya/EmbeddedProject#ì „ì²´-ì‹œìŠ¤í…œ-êµ¬ì¡°)
3. [íšŒë¡œ êµ¬ì¡°ë„](https://github.com/Dyoya/EmbeddedProject#íšŒë¡œ-êµ¬ì¡°ë„)
5. [ì œí•œ ì¡°ê±´](https://github.com/Dyoya/EmbeddedProject#ì œí•œ-ì¡°ê±´)
6. [ê°€ì‚°ì  ìš”ì†Œ](https://github.com/Dyoya/EmbeddedProject#ê°€ì‚°ì -ìš”ì†Œ)
7. [êµ¬í˜„ ë‚´ìš©](https://github.com/Dyoya/EmbeddedProject#êµ¬í˜„-ë‚´ìš©)
8. [ì‹¤í–‰ ë°©ë²•](https://github.com/Dyoya/EmbeddedProject#ì‹¤í–‰-ë°©ë²•)
9. [ì‚¬ìš©ë²•](https://github.com/Dyoya/EmbeddedProject#ì‚¬ìš©ë²•)
10. [ê°œë°œ ì¼ì •](https://github.com/Dyoya/EmbeddedProject#ê°œë°œ-ì¼ì •)
11. [ì°¸ê³ ë¬¸í—Œ](https://github.com/Dyoya/EmbeddedProject#ì°¸ê³ ë¬¸í—Œ)

# ì•„ì´ë””ì–´ ì†Œê°œ
 ë‚´ìš©ë‚´ìš©

# ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°
 **ì˜¨ìŠµë„ ì„¼ì„œ**ì—ì„œ ì˜¨ë„, **ìˆ˜ìœ„ ì„¼ì„œ**, **ê°€ìŠ¤ ì„¼ì„œ**, **NFC ë¦¬ë”ê¸°**ê°€ ë°ì´í„°ë¥¼ ì½ì–´ ë¼ì¦ˆë² ë¦¬ íŒŒì´ê°€ ë°›ëŠ”ë‹¤. ë¼ì¦ˆë² ë¦¬ íŒŒì´ëŠ” í•´ë‹¹ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ **JSON í˜•ì‹**ìœ¼ë¡œ ì¢…í•©í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡í•œë‹¤. ì„œë²„ì˜ **DB**ì— ê°’ì´ ì €ì¥ë˜ë©°, ìŠ¤ë§ˆíŠ¸í°ì˜ **ì•ˆë“œë¡œì´ë“œ ì•±**ì€ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤€ë‹¤. NFCê°€ ì²˜ìŒ ì¸ì‹ëœ ê²½ìš°ëŠ” ì‚¬ìš©ìê°€ ìŠ¤ë§ˆíŠ¸í°ì„ í†µí•´ **ê²½ê³  ì‹ í˜¸**ë¥¼ ì„œë²„ë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ë¼ì¦ˆë² ë¦¬ íŒŒì´ëŠ” ì„œë²„ë¡œë¶€í„° ê²½ê³  ì‹ í˜¸ë¥¼ ë°›ì•„ ë¶€ì €ë¥¼ ìš¸ë ¤ ê²½ê³ í•  ìˆ˜ ìˆë‹¤.
 
![ì‹œìŠ¤í…œ êµ¬ì¡°ë„](./img/ì‹œìŠ¤í…œêµ¬ì¡°ë„.jpg)

# íšŒë¡œ êµ¬ì¡°ë„
 **ì˜¨ìŠµë„ ì„¼ì„œ**ëŠ” ì½ì€ ë°ì´í„°ë¥¼ ë””ì§€í„¸ ì‹ í˜¸ë¡œ ì „ì†¡í•  ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ, ë¼ì¦ˆë² ë¦¬ íŒŒì´ì˜ GPIO í•€ì— ì§ì ‘ ì—°ê²°í–ˆë‹¤. **ìˆ˜ìœ„ ì„¼ì„œ**ëŠ” ì•„ë‚ ë¡œê·¸ ì‹ í˜¸ë¥¼ ì „ì†¡í•˜ê¸° ë•Œë¬¸ì— ADC ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•´ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì— ì—°ê²°í–ˆë‹¤. **ê°€ìŠ¤ ì„¼ì„œ**ëŠ” ë””ì§€í„¸ ì‹ í˜¸ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆì§€ë§Œ, ë””ì§€í„¸ ì‹ í˜¸ëŠ” 0ê³¼ 1ë¡œ ê°€ìŠ¤ ê°ì§€ ì—¬ë¶€ë§Œì´ ìˆê¸° ë•Œë¬¸ì— ì•„ë‚ ë¡œê·¸ ì‹ í˜¸ë¥¼ ADC ì»¨ë²„í„°ë¥¼ ì´ìš©í•´ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì™€ ì—°ê²°í–ˆë‹¤. **NFC ë¦¬ë”ê¸°**ëŠ” UART í†µì‹ ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì˜ TX, RXí•€ê³¼ ì—°ê²°í–ˆë‹¤.
 
![íšŒë¡œ êµ¬ì¡°ë„](./img/íšŒë¡œêµ¬ì¡°ë„.jpg)

# ì œí•œ ì¡°ê±´
## Thread
 ë‚´ìš©ë‚´ìš©

## Mutex
 ë‚´ìš©ë‚´ìš©

# ê°€ì‚°ì  ìš”ì†Œ
> ì„œë²„ë¥¼ í†µí•œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì™€ ìŠ¤ë§ˆíŠ¸í° í†µì‹ 
> 
> ë‹¤ë¥¸ ìˆ˜ì—…ì˜ ë‚´ìš©ê³¼ ë³‘í•©í•œ ì„œë²„ ê°œë°œ ë° ì•ˆë“œë¡œì´ë“œ ì•± ê°œë°œ

# êµ¬í˜„ ë‚´ìš©
## 1. RasberryPi
 í—¤ë” íŒŒì¼ **common.h**ë¥¼ ë§Œë“¤ì–´ ì—¬ëŸ¬ ì½”ë“œë¥¼ í•˜ë‚˜ë¡œ í•©ì³¤ë‹¤. common.hëŠ” ê³µìœ  ë³€ìˆ˜ ë° í•¨ìˆ˜ê°€ ì„ ì–¸ë˜ì–´ ìˆê³ , common.cì—ëŠ” ì •ì˜ë˜ì–´ ìˆë‹¤. 
 
- 

## 2. Server
 ë°ì´í„°ë² ì´ìŠ¤ì˜ 4ê°€ì§€ ì„¼ì„œê°’ì„ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆê²Œ temperature, water, gas, nfcì˜ ì†ì„±ìœ¼ë¡œ êµ¬ì„±í–ˆë‹¤.

[ê·¸ë¦¼]

ì•„ë˜ëŠ” ì„¼ì„œê°’ì„ DBì— ì €ì¥í•˜ëŠ” ì½”ë“œë‹¤. ë¼ì¦ˆë² ë¦¬íŒŒì´ëŠ” CURLì„ ì´ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ ì£¼ì†Œì— ì ‘ê·¼í•˜ì—¬ ì„¼ì„œê°’ì„ POST ë°©ì‹ìœ¼ë¡œ ì„œë²„ì— ì „ë‹¬í•œë‹¤. ê·¸ë¦¬ê³  ì„œë²„ëŠ” ë°›ì€ ê°’ì„ ì´ìš©í•˜ì—¬ DBë¥¼ ê°±ì‹ í•œë‹¤. ì„¼ì„œê°’ì€ ê°€ì¥ ìµœì‹ ì˜ ê°’ë§Œ ìœ íš¨í•˜ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆì–´ íŠœí”Œì„ ëˆ„ì ì‹œí‚¤ì§€ ì•Šê³  1ì—´ì˜ íŠœí”Œê°’ì„ ê°±ì‹ ì‹œí‚¤ë„ë¡ í–ˆë‹¤.

```javascript
app.post("/sensor", (req, res) => {
  const sql = "update sensor set temperature=?, water=?, gas=?, nfc=?";
  var params = [
    req.body.temperature,
    req.body.water,
    req.body.gas,
    req.body.nfc,
  ];
  console.log(params);
  db.query(sql, params, (err, rows, fields) => {
    console.log(rows);
    if (err) {
      res.json({ result: "error" });
      return console.log(err);
    }
    res.json(rows);
  });
});
```

ì•„ë˜ëŠ” ì•±ì—ì„œ ì„¼ì„œì˜ ê°’ì„ ë°›ì•„ì˜¤ëŠ” ì½”ë“œë‹¤. ì•±ì€ Retrofitì„ ì‚¬ìš©í•˜ì—¬ GET ë°©ì‹ìœ¼ë¡œ ê°’ì„ ë°›ì•„ì˜¨ë‹¤.

```javascript
app.get("/sensor", (req, res) => {
  const sql = "select * from sensor";
  db.query(sql, (err, rows) => {
    if (err) {
      res.json({ result: "error" });
      return console.log(err);
    }
    res.json(rows);
  });
});
```

ì•„ë˜ëŠ” ë¼ì¦ˆë² ë¦¬íŒŒì´ì—ì„œ ì•ŒëŒ flagê°’ì„ ë°›ì•„ì˜¤ëŠ” ì½”ë“œë‹¤. ì•ŒëŒ flagê°’ì´ trueì´ë©´ ì•ŒëŒì„ ìš¸ë¦¬ë¼ëŠ” json í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë³´ë‚¸ë‹¤.

```javascript
app.get("/buzzer", (req, res) => {
  if (result) {
    res.json({ warning: "noise" });
    result = false;
  } else {
    res.json({ warning: "quiet" });
  }
  console.log(result);
});
```

ì•„ë˜ëŠ” ì•±ì—ì„œ ìœ íš¨í•˜ì§€ ì•Šì€ NFCê°€ ì ‘ê·¼í–ˆì„ ë•Œ ì•ŒëŒ flagê°’ì„ ë³€ê²½í•˜ëŠ” ì½”ë“œë‹¤. ì•ŒëŒ flagê°’ì´ trueì´ë©´ ë¶€ì €ë¥¼ ìš¸ë¦¬ê³  falseì´ë©´ ë¶€ì €ë¥¼ ìš¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤.

```javascript
app.get("/warning", (req, res) => {
  if (result == false) {
    result = true;
    res.json({ warning: "Get Ok" });
    console.log(result);
  }
});
```


## 3. Android App
 ë‚´ìš©ë‚´ìš©
 
## 4. Makefile
 ë‚´ìš©ë‚´ìš©

# ì‹¤í–‰ ë°©ë²•
 ë‚´ìš©ë‚´ìš©


# ì‚¬ìš©ë²•
 ë‚´ìš©ë‚´ìš©


# ê°œë°œ ì¼ì •
 ì•„ë˜ ì‚¬ì§„ì€ 11ì›” 30ì¼ë¶€í„° 12ì›” 15ì¼ê¹Œì§€ì˜ ê°œë°œ ì¼ì •ì´ë‹¤.

![ê°œë°œ ì¼ì •](./img/ê°œë°œì¼ì •.jpg)


# ì°¸ê³ ë¬¸í—Œ
[ê°€ìŠ¤ ì„¼ì„œ(MQ-5)](https://m.blog.naver.com/elepartsblog/221528526035)

[MCP3208 ADC ì»¨ë²„í„° ì‚¬ìš©í•˜ê¸°](https://diymaker.tistory.com/155)

[MCP3008 + ìˆ˜ìœ„ì„¼ì„œ](https://blog.naver.com/PostView.naver?blogId=roboholic84&logNo=220416082742)

[NFC Reader(PN532)](https://m.blog.naver.com/tiled12/221794166065)

[ì˜¨ìŠµë„ ì„¼ì„œ](https://blog.naver.com/PostView.naver?blogId=dokkosam&logNo=222162911335)

[CURL ëª…ë ¹ì–´ ì‚¬ìš©ë²• ì •ë¦¬](https://inpa.tistory.com/entry/LINUX-%F0%9F%93%9A-CURL-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%82%AC%EC%9A%A9%EB%B2%95-%EB%8B%A4%EC%96%91%ED%95%9C-%EC%98%88%EC%A0%9C%EB%A1%9C-%EC%A0%95%EB%A6%AC)
